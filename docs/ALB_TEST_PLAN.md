## 1. 라우팅 검증

### 1-1. 테스트 목적

ALB가 경로에 따라 올바른 서비스로 라우팅하는지 확인

### 1-2. 테스트 방법

Postman으로 각 엔드포인트를 호출한 뒤, 응답을 확인

### 1-3. 예상 결과

- `/auth/login` → 200 OK, User Service 응답
- `/projects` → 200 OK, Project Service 응답
- `/fundings` → 500 Internal Server Error, Funding Service 응답

### 1-4. 성공 기준

- 3개 엔드포인트 모두 예상 응답 반환

## 2. 헬스체크 및 자동 복구

### 2-1. 테스트 목적

Task 장애 시 자동 복구 확인

### 2-2. 테스트 방법

1. User Service Task 1개를 강제 종료
2. 계속 요청을 보내 에러 발생 여부를 확인
3. 복구 시간 측정

### 2-3. 예상 결과

- Task 종료 후 30초 이내에 감지
- 다른 Task로 트래픽 자동 전환
- 1분 이내에 새 Task 시작
- 사용자는 에러를 거의 느끼지 않음

### 2-4. 성공 기준

- 요청 실패율 < 1%
- 자동 복구 완료

## 3. 무중단 배포

### 3-1. 테스트 목적

서비스 신규 버전 배포 과정에서 트래픽 단절, 오류 증가, 응답 지연 등의 장애가 발생하지 않는지 검증하여

ECS Rolling Update 전략이 정상적으로 동작하는지 확인

### 3-2. 테스트 방법

1. 계속 요청을 보내는 스크립트 실행
2. 새로운 버전 배포 시작
3. 요청 실패 여부 확인

### 3-3. 예상 결과

- 배포 중에도 요청이 성공
- 이전 버전에서 새로운 버전으로 점진적 전환
- 배포 진행 중에도 기존 Task가 지속적으로 트래픽을 처리하며, 신규 Task가 정상 Healthy 상태가 된 후 점진적으로 전환됨.
- ALB TargetGroup 레벨에서 **동시에 모든 Task가 Unhealthy 상태가 되는 구간이 존재하지 않음**.

### 3-4. 성공 기준

- 요청 실패 0회

## 4. 모니터링 계획

| 매트릭 | 정상 범위 | 알람 기준 |
| --- | --- | --- |
| HealthyHostCount | ≥ 1 | 0 |
| TargetResponseTime | < 1초 | > 2초 |
| HTTP 5XX | 0 | > 10건/분 |
| CPU Utilization (ECS Task) | 30% ~ 70% | > 80% 지속 5분 이상 |
| Memory Utilization | < 75% | > 85% |
| ALB 4XX Errors | 정상 구간 내 변동 (클라이언트 오류) | 패턴 급증 시 확인 |
- 모든 Task가 Unhealthy일 경우 즉시 알람
- 응답 시간이 2초 초과할 시 알람
- 5XX 에러가 분당 10건 이상일 경우 알람
- CPU 사용률이 80%를 5분 이상 초과하면 알람
- 메모리 사용률이 85%를 초과하면 알람
- ALB 4XX 오류가 평상시 대비 비정상적으로 급증할 경우 알람
